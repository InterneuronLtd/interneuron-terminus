<!--BEGIN LICENSE BLOCK--> 
<!--Interneuron Terminus

Copyright(C) 2025  Interneuron Limited

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.If not, see<http://www.gnu.org/licenses/>. -->
<!--END LICENSE BLOCK--> 
<div class="" *ngIf="displayPort != 'Mobile'">
  <div class="row">
    <div class="col-sm-12">

      <div    [ngClass]="(sharedData.showExpandedBanner == false ) ? 'btn btn-linkedin text-white btn-sm panel-heading collapsed float-right':'btn btn-linkedin text-white btn-sm panel-heading float-right' " 
      (click)="updateExpandbanner()">
        <i *ngIf="sharedData.showExpandedBanner == true" class="icon-arrow-up"></i>
        <i *ngIf="sharedData.showExpandedBanner == false" class="icon-arrow-down"></i>
      </div>
      <span class="float-right">
        &nbsp;
      </span>
      <span class="float-right" >
        <button type="button" class="btn btn-default btn-google-plus bg-white text-danger btn-sm float-right"
          (click)="insertPatientIntoMyPatients();" *ngIf="!showRemoveButton">
          <i class="icon-star" data-bs-toggle="tooltip" [attr.title]="'Add to my ' + personLabelText + 's'"></i>
        </button>
        <button type="button" class="btn btn-default btn-google-plus text-white btn-sm float-right"
          (click)="removePatientFromMyPatients();" *ngIf="showRemoveButton">
          <i class="icon-star" data-bs-toggle="tooltip" [attr.title]="'Remove from my ' + personLabelText + 's'"></i>
        </button>
      </span>


      <span class="float-right">
        &nbsp;
      </span>
      <span class="float-right"  *ngIf="env  != 'social_care'">
        <div class="dropdown">
          <button id="btnpatientCustomDropdown" class="btn btn-sm btn-default dropbtn btn-info text-white"
            title="Team Lists" data-bs-toggle="tooltip" type="button">
            <i class='icon-list'></i>
          </button>
          <div id="ddlPatientlistCustomDropdown" class="dropdown-content float-left" style=" z-index: 5;">
            <li class="dropdown-item" (click)="OnItemclick(patientlistname)"
              *ngFor="let patientlistname of patientlistname" style="width: 100%;">
              <div class="custom-control  custom-checkbox my-1 mr-sm-2">
                <input type="checkbox" [(ngModel)]="patientlistname.selected" class="custom-control-input"
                  data-md-icheck />

                <label class="custom-control-label">{{ patientlistname.patientlistname}}</label>
              </div>
            </li>
          </div>
        </div>
      </span>
      <span class="float-right">
        &nbsp;
      </span>
      <button type="button" tooltipClass="gpConnectCustomClass" [tooltip]="gpConnectSyncMsgs" [display]="gpConnectSyncMessages && gpConnectSyncMessages.length" [options]="gpConnectSyncTooltipOptions" contentType="template" class="btn btn-sm btn-link float-right" [disabled]="gpConnectSyncDisabled" *ngIf="showGPConnectSyncCntrl && !hideGPConnectFeature"  (click)="onClickVerify()">
        <img [src]=gpConnectSyncImgSrc width="24px" />
      </button>
     
      <!-- <span *ngIf="showvideiocalling" class="float-right">
        <div title="Vidio" class="VidioControle" (click)="openVideocall()"></div>
      </span> -->
    </div>
  </div>
</div>


<div class="" *ngIf="displayPort === 'Mobile' && selectedView != 'expanded'">
  <div class="row">
    <div class="col-sm-12 p-0">

      <div  [ngClass]="(sharedData.showExpandedBanner == false ) ? 'btn btn-linkedin text-white btn-sm panel-heading collapsed float-right pr-2':'btn btn-linkedin text-white btn-sm panel-heading float-right pr-2' "  
      (click)="updateExpandbanner()" >
        <i *ngIf="sharedData.showExpandedBanner" class="icon-arrow-up"></i>
        <i *ngIf="!sharedData.showExpandedBanner" class="icon-arrow-down"></i>
      </div>
      <span class="float-right">
        &nbsp;
      </span>
      <button role="button" type="button" tooltipClass="gpConnectCustomClass" class="btn btn-sm btn-link float-right p-0" [display]="gpConnectSyncMessages && gpConnectSyncMessages.length" [tooltip]="gpConnectSyncMsgs" [options]="gpConnectSyncTooltipOptions" contentType="template" [disabled]="gpConnectSyncDisabled" *ngIf="showGPConnectSyncCntrl && !hideGPConnectFeature" (click)="onClickVerify()">
        <img [src]="gpConnectSyncImgSrc" width="24px" />
      </button>
    </div>
  </div>
</div>


<div class="" *ngIf="displayPort === 'Mobile' && selectedView === 'expanded'">

  <div class="row">
    <div class="col-sm-12">

      <span class="float-right">
        <button type="button" class="btn btn-default btn-google-plus bg-white text-danger btn-sm float-right"
          (click)="insertPatientIntoMyPatients();" *ngIf="!showRemoveButton">
          <i class="icon-star" data-bs-toggle="tooltip" [attr.title]="'Add to my ' + personLabelText + 's'"></i>
        </button>
        <button type="button" class="btn btn-default btn-google-plus text-white btn-sm float-right"
          (click)="removePatientFromMyPatients();" *ngIf="showRemoveButton">
          <i class="icon-star" data-bs-toggle="tooltip" [attr.title]="'Remove from my ' + personLabelText + 's'"></i>
        </button>
      </span>
      <span class="float-right">
        &nbsp;
      </span>
      <span class="float-right"  *ngIf="env  != 'social_care'">
        <div class="dropdown">
          <button id="btnpatientCustomDropdown" class="btn btn-sm btn-default dropbtn btn-info text-white"
            title="Team Lists" data-bs-toggle="tooltip" type="button">
            <i class='icon-list'></i>
          </button>
          <div id="ddlPatientlistCustomDropdown" class="dropdown-content float-left" style=" z-index: 5;">
            <li class="dropdown-item" (click)="OnItemclick(patientlistname)"
              *ngFor="let patientlistname of patientlistname" style="width: 100%;">
              <div class="custom-control  custom-checkbox my-1 mr-sm-2">
                <input type="checkbox" [(ngModel)]="patientlistname.selected" class="custom-control-input"
                  data-md-icheck />

                <label class="custom-control-label">{{ patientlistname.patientlistname}}</label>
              </div>
            </li>
          </div>
        </div>
      </span>
      <!-- <span *ngIf="env  != 'social_care'" class="float-right">
        <div title="Edit" (click)="EditBanner()" class="bannerEdit"></div>
      </span> -->  
      <!-- <span *ngIf="showvideiocalling" class="float-right">
        <div title="Vidio" class="VidioControle" (click)="openVideocall()"></div>
      </span> -->


    </div>
  </div>

</div>
<ng-container *ngIf="showUserProfileForm">
  <app-userprofile [showUserProfileForm]="showUserProfileForm" (onClose)="closeUserProfileForm($event)"></app-userprofile>
</ng-container>
<ng-container *ngIf="showPatientConsentForm">
  <app-patientconsent [showPatientConsentForm]="showPatientConsentForm" (onClose)="closePatientConsentForm($event)"></app-patientconsent>
</ng-container>

<ng-template #gpConnectSyncMsgs>
  <ng-container *ngIf="gpConnectSyncMessages && gpConnectSyncMessages.length && gpConnectSyncStatus !== 4">
    <li *ngFor="let gpConnectSyncMsg of gpConnectSyncMessages">{{gpConnectSyncMsg}}</li>
  </ng-container>
  <ng-container *ngIf="gpConnectSyncMessages && gpConnectSyncMessages.length && gpConnectSyncStatus === 4">
    Partially synchronised data. Please check Clinical Information in banner for more details.
  </ng-container>
</ng-template>
